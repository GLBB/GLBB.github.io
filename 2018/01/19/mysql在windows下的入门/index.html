<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>mysql在windows下的入门 | 我的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="mysql卸载 查找数据文件的位置 因为数据文件可能和安装文件不在一个位置，删除安装文件后，不会将数据文件删除，所以可以找到my.ini配置文件，找到文件中的datadir项，记住数据文件的地址，可以选择是否删除数据文件 之后正常删除数据库就可以了 在以前的安装目录下可能有一些遗留文件，可以删除  mysql安装需要注意的问题 配置mysql的字符集，默认initial为ISO8859-1改为ut">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql在windows下的入门">
<meta property="og:url" content="http://glbb.github.io/2018/01/19/mysql在windows下的入门/index.html">
<meta property="og:site_name" content="我的博客">
<meta property="og:description" content="mysql卸载 查找数据文件的位置 因为数据文件可能和安装文件不在一个位置，删除安装文件后，不会将数据文件删除，所以可以找到my.ini配置文件，找到文件中的datadir项，记住数据文件的地址，可以选择是否删除数据文件 之后正常删除数据库就可以了 在以前的安装目录下可能有一些遗留文件，可以删除  mysql安装需要注意的问题 配置mysql的字符集，默认initial为ISO8859-1改为ut">
<meta property="og:updated_time" content="2018-01-19T03:07:21.882Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mysql在windows下的入门">
<meta name="twitter:description" content="mysql卸载 查找数据文件的位置 因为数据文件可能和安装文件不在一个位置，删除安装文件后，不会将数据文件删除，所以可以找到my.ini配置文件，找到文件中的datadir项，记住数据文件的地址，可以选择是否删除数据文件 之后正常删除数据库就可以了 在以前的安装目录下可能有一些遗留文件，可以删除  mysql安装需要注意的问题 配置mysql的字符集，默认initial为ISO8859-1改为ut">
  
    <link rel="alternate" href="/atom.xml" title="我的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">我的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一天进步一点</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://glbb.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-mysql在windows下的入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/19/mysql在windows下的入门/" class="article-date">
  <time datetime="2018-01-19T03:06:30.000Z" itemprop="datePublished">2018-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      mysql在windows下的入门
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="mysql卸载"><a href="#mysql卸载" class="headerlink" title="mysql卸载"></a>mysql卸载</h3><ol>
<li>查找数据文件的位置<br> 因为数据文件可能和安装文件不在一个位置，删除安装文件后，不会将数据文件删除，所以可以找到my.ini配置文件，找到文件中的datadir项，记住数据文件的地址，可以选择是否删除数据文件</li>
<li>之后正常删除数据库就可以了</li>
<li>在以前的安装目录下可能有一些遗留文件，可以删除</li>
</ol>
<h3 id="mysql安装需要注意的问题"><a href="#mysql安装需要注意的问题" class="headerlink" title="mysql安装需要注意的问题"></a>mysql安装需要注意的问题</h3><ol>
<li>配置mysql的字符集，默认initial为ISO8859-1改为utf-8</li>
<li>配置环境变量，为了能在命令行cmd进入mysql，需要将mysql下的bin目录加入环境变量path</li>
</ol>
<h3 id="mysql重置root密码"><a href="#mysql重置root密码" class="headerlink" title="mysql重置root密码"></a>mysql重置root密码</h3><ol>
<li>停止mysql服务器，运行输入services.msc，停止mysql服务</li>
<li>在cmd下，输入mysql –skip-grant-tables启动服务器，这时cmd光标不动</li>
<li>在新打开一个cmd输入mysql -u root -p 不需要密码，回车进入mysql,输入<br>use mysql;<br>update user set password=password(‘abc’) where user=’root’;<br>其中abc为设置的密码</li>
<li>然后结束mysqld服务，可以在任务管理器中进程结束mysqld进程</li>
<li>启动mysql服务器</li>
</ol>
<h3 id="mysql数据服务器的登陆"><a href="#mysql数据服务器的登陆" class="headerlink" title="mysql数据服务器的登陆"></a>mysql数据服务器的登陆</h3><p>查看mysql帮助，可以在cmd输入<br>mysql -?<br>其他的登陆方式<br>mysql -h 主机名 -P 端口 -u 用户名 -p 密码<br>如果在本机上安装了mysql<br>则可省略主机名和端口号</p>
<h3 id="SQL语言"><a href="#SQL语言" class="headerlink" title="SQL语言"></a>SQL语言</h3><p>SQL== Struct Query Luanguage ,结构化查询语言<br>SQL是非过程性语言<br>各个sql语言没有关系</p>
<h4 id="sql分类"><a href="#sql分类" class="headerlink" title="sql分类"></a>sql分类</h4><table>
<thead>
<tr>
<th>DDL</th>
<th style="text-align:left">数据定义语言</th>
<th>用来定义数据库和表等</th>
</tr>
</thead>
<tbody>
<tr>
<td>DML</td>
<td style="text-align:left">数据操纵语言</td>
<td>update insert delete</td>
</tr>
<tr>
<td>DCL</td>
<td style="text-align:left">数据控制语言</td>
<td>用户权限事物处理</td>
</tr>
<tr>
<td>DQL</td>
<td style="text-align:left">数据查询语言</td>
<td>select</td>
</tr>
</tbody>
</table>
<h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><ol>
<li>创建数据库<br>create database 数据库名;<br>创建数据库时可以指定编码集和校验规则<br> character set：指定数据库中采用的字符集<br>collate:指定数据库字符集的比较方式<br>create database 数据库名 character set=”utf8” collate=”utf8_general_ci”;</li>
<li>使用数据库<br>use 数据库名称</li>
<li>删除数据库<br>drop database 数据库名</li>
<li>查看有哪些数据库<br>show databases;</li>
<li>修改数据库<br>alter database 数据库名 character set=”编码集” collate=”校验”</li>
<li>查看当前使用的数据库<br>select database();</li>
<li>查看数据库的定义信息如字符集等<br>show create database 数据库名;</li>
</ol>
<h3 id="数据表（table）"><a href="#数据表（table）" class="headerlink" title="数据表（table）"></a>数据表（table）</h3><ol>
<li>简单创建<br>create table 表名(<pre><code>字段名称1 类型，
字段名称2 类型，
.......
</code></pre>)</li>
<li>指定表的编码与创建<br>create table 表名(<pre><code>字段名称1 类型，
字段名称2 类型，
.......
</code></pre>) character set=编码 collate=校验、<h3 id="数据表中的类型"><a href="#数据表中的类型" class="headerlink" title="数据表中的类型"></a>数据表中的类型</h3>与java类型相比<br>java类型对应的mysql类型<br>java  整形<br>byte short int long<br>mysql中<br>tinyint smallint int bigint<br>java中的boolean类型对应mysql中的boolean类型<br>java中的字符串在mysql中表示为varchar或char<br>varchar表示可变长的字符串<br>char表示不变长的字符串<br>varchar与char相比节约空间但效率比char低<br>java中的日期<br>java.util.Date<br>java.sql.Date<br>java.sql.Time<br>java.sql.Timestanp<br>mysql中对应的日期<br>date ———————– 2011-09-03<br>datetime——————-2011-09-03 11:11:11<br>time ————————11:11:11<br>timestamp—————–对应的毫秒值<br>java中小数<br>float double<br>mysql中小数<br>float double<br>mysql中decimal也可以表示小数<br>decimal(5,2)<br>表示这个数包含整数和小数最多五位，小数为两位</li>
</ol>
<p>java中<br>InputStream/OutputStream对应mysql中的blob<br>Reader/Writer对应mysql中的text</p>
<h3 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h3><p>查看当前数据库下的所有表<br>show tables;<br>查看创建表的sql语句<br>show create table 表名;<br>查看表的约束<br>desc 表名;</p>
<h3 id="表约束"><a href="#表约束" class="headerlink" title="表约束"></a>表约束</h3><p>保证数据的有效性和完整性</p>
<ol>
<li>主键约束<br>非空 唯一</li>
<li>非空约束</li>
<li>唯一约束</li>
<li>外键约束<br>例子<br>create table 表名(<br> id int primary key auto_increment,<br> eid varchar(30) not null unique,<br> name varchar(10),<br> gender varchar(5),<br> birthday date,<br> entrydate datetime,<br> job varchar(20)<br> salary decimal(8,2),<br> resume longtext<br>)charset set=”utf8” collate=”utf8_general_ci”;<br>其中关键字auto_increment设置主键自动增长，每加入一个记录增加一次</li>
</ol>
<h3 id="表结构的修改"><a href="#表结构的修改" class="headerlink" title="表结构的修改"></a>表结构的修改</h3><p>结合例子<br>创建一个users表</p>
<p>create table users(<br>    id int,<br>    name varchar(20)<br>);</p>
<ol>
<li>添加字段<br>alter table 表名 add 字段 类型<br>alter table users add birthday date;</li>
<li>修改字段类型<br>alter table 表名 modify 字段 类型<br>alter table users modify birthday datetime;</li>
<li>删除字段<br>alter table 表名 drop 字段<br>alter table users drop birthday;</li>
<li>修改字段名称<br>alter table 表名 change 旧字段名称 新字段名称 字段类型<br>alter table users change birthday entry_date date;<br>同时change还可以同时修改字段类型和字段名称</li>
<li>修改表所用的字符集<br>alter table 表名 charset set=”utf8”</li>
<li>修改表名<br>rename table 表名 to 新表名</li>
<li>删除主键<br>alter table 表名 drop primary key;<br>其中如果主键具有auto_increment使用如上命令删除不掉</li>
</ol>
<h3 id="操作数据表"><a href="#操作数据表" class="headerlink" title="操作数据表"></a>操作数据表</h3><p>C create insert<br>R read    select<br>U update update<br>D delete delete<br>简单查询<br>select * from 表名; 查看表中所有数据</p>
<ol>
<li>insert 操作<br>基本格式1<br>insert into 表名(字段1,字段2) values(值1,值2);<br>基本格式2<br>如果对所有字段进行插入操作，则可<br>insert into 表名 values(值,..);<br>基本格式3<br>对指定字段添加记录<br>insert into 表名(字段名) values(值1,..)<br>注意事项：<br>其中值只有数值类型可以不加引号，其他都必须用引号引起来<br>插入值类型必须和列类型匹配<br>值长度不能超过列定义长度<br>插入空值可以写null</li>
</ol>
<p>当插入中文报错问题解决<br>mysql有6处采用了字符集<br>client客户端采用的字符集<br>connection是连接数据库字符集类型，如果程序没有指明连接数据库使用的字符集，就采用默认的字符集<br>database是是数据库某个库使用的字符集设定，如果建库没有指明，就采用默认的<br>results是数据库客户端返回结果时采用的字符集设定，没有指明采用默认的<br>server是服务器安装时指定的字符集<br>system是数据库系统采用的字符集</p>
<p>其中client,connection,results与客户端相关</p>
<p>查看mysql所有采用字符集都采用的什么编码<br>show variables like ‘character%’;<br>其中cmd默认采用gbk编码<br>所以可以选择修改mysql客户端编码为gbk<br>set character_set_client=gbk; 是为了输入时编码正确<br>set character_set_results=gbk; 是为了显示时编码正确<br>其中以上两个设置只是临时设置，重启cmd会恢复成原来的<br>永远改变需要修改my.ini配置文件<br>其中my.ini中有<br>在client处有<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">default-character-set=utf8</div></pre></td></tr></table></figure></p>
<p>可修改为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">default-character-set=gbk</div></pre></td></tr></table></figure></p>
<p>其中client,connection,results都会变成gbk<br>修改配置文件后需要重启mysql服务器</p>
<h3 id="update语句"><a href="#update语句" class="headerlink" title="update语句"></a>update语句</h3><p>基本格式<br>update 表名 set 字段=值<br>一般情况下会加上where条件，如果不加，是对整个字段进行修改<br>update 表名 set 字段=值 where 条件<br>如<br>update users set name=’james’ where id=1;<br>如果修改多个字段<br>update users set 字段1=值,字段2=值,… where 条件<br>其中值可以为一个表达式</p>
<h3 id="delete语句"><a href="#delete语句" class="headerlink" title="delete语句"></a>delete语句</h3><p>delete from 表名 where 条件<br>如果不加条件，相当于删除所有数据</p>
<p>delete只是删除记录，不能删除某一列的值<br>delete只是删除记录，不能删除表结构</p>
<p>delete,truncate,drop区别<br>delete和truncate是删除表中的数据，而drop是删除表结构</p>
<p>delete和truncate的区别</p>
<ol>
<li>delete是一行一行记录的删除<br>而truncate是将表结构删除，在重新创建表结构<br>所以truncate的效率高于delete</li>
<li>delete是受事物控制的<br>truncate是受事物控制的<br>delete记录可以恢复，truncate记录不能恢复</li>
<li>delete可以对指定记录进行删除<br>truncate不可以</li>
</ol>
<p>drop和truncate的语法<br>drop table 表名<br>truncate table 表名</p>
<h3 id="select字段"><a href="#select字段" class="headerlink" title="select字段"></a>select字段</h3><p>语法<br>select 字段1,字段2,… from 表名;<br>可以用distinct删除重复数据<br>select distinct 字段1,字段2,.. from 表名<br>在select中可以对查询的进行运算<br>如 select chinese+english from student;<br>更多参考书籍</p>
<h3 id="数据库的备份与恢复"><a href="#数据库的备份与恢复" class="headerlink" title="数据库的备份与恢复"></a>数据库的备份与恢复</h3><ol>
<li>数据库的备份<br>在数据库外面对数据库进行备份，使用cmd使用如下命令<br>mysqldump -u 用户名 -p 数据库名 &gt; 路径文件名.sql<br>输入密码ok，其中文件名可以带路径</li>
<li>数据库的恢复<br>在mysql内部恢复，必须先创建出数据库，切换数据库，然后使用命令<br>source 路径文件名.sql<br>在外部对数据库进行恢复,必须先创建出数据库,在cmd下<br>mysql -u root -p 数据库名 &lt; 路径文件名.sql</li>
</ol>
<h3 id="多表设计"><a href="#多表设计" class="headerlink" title="多表设计"></a>多表设计</h3><p>一对一的关系，想要关联数据，可以在任何一方，添加对方的关联的信息<br>多对一的关系，想要关联数据，可以在多的一方，添加一的一方的关联信息<br>多对多的关系，想要关联数据，可以产生一张中间表，用来关联多对多关系</p>
<p>外键约束可以保证数据完整性<br>语法<br>dept_id int;<br>forein key emp(dept_id) references dept(id);</p>
<h3 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h3><p>select <em> from 表1,表2;<br>这会产生笛卡尔积，即将表1,表2的数据每一个都组合起来，所以还需要加上条件<br>select </em> from 表1,表2 where 表1.字段=表2.字段;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glbb.github.io/2018/01/19/mysql在windows下的入门/" data-id="cjcldkhnq000o54vdncd15zrr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/01/17/jsp中自定义标签/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">jsp中自定义标签</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/19/mysql在windows下的入门/">mysql在windows下的入门</a>
          </li>
        
          <li>
            <a href="/2018/01/17/jsp中自定义标签/">jsp中自定义标签</a>
          </li>
        
          <li>
            <a href="/2018/01/09/el表达式和jstl快速入门/">el表达式和jstl快速入门</a>
          </li>
        
          <li>
            <a href="/2018/01/08/javabean/">javabean</a>
          </li>
        
          <li>
            <a href="/2018/01/08/jsp之pageContext对象和常用标签和映射/">jsp之pageContext对象和常用标签和映射</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>